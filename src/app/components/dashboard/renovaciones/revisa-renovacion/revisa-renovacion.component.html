<div class="container">

    <mat-toolbar>
        <span>Revision de solicitud</span>
        <div class="example-spacer"></div>
          <button mat-raised-button type="button" (click)="generarPDF()">Descargar PDF</button>
      </mat-toolbar>

    <mat-card style="margin-top: 10px;">

        <form [formGroup]="form" (ngSubmit)="EnviarDatos()">
            
            <mat-grid-list  cols="2" rowHeight="70px">

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <h1>No. Cliente: {{SolicitudEspecifica.numeroCliente}}</h1>
                </mat-grid-tile>
       
                <mat-grid-tile [colspan]="2" [rowspan]="3">
                    <div class="image-container">
                      <img src={{variableURL}}{{clienteEspecifico.fotoPerfil}} alt="Foto de perfil" class="profile-image" (click)="navegarExpediente(clienteEspecifico._id)">
                    </div>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <h2>Datos de prestamo</h2>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <h3>Prestamo {{SolicitudEspecifica.tipoPrestamo}} de ${{SolicitudEspecifica.montoSolicitado}} 
                        a un plazo de {{SolicitudEspecifica.plazo}} dias, con un total de ${{SolicitudEspecifica.totalPagar}}</h3>
                </mat-grid-tile>


                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Fecha</mat-label>
                        <input matInput autocomplete="off" formControlName="fecha">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Tipo Prestamo</mat-label>
                        <mat-select formControlName="tipoPrestamo" [(ngModel)]="tipoPrestamo" (selectionChange)="onTipoChange()">
                            <mat-option *ngFor="let tipo of prestamos" [value]="tipo.value">
                            {{tipo.viewValue}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </mat-grid-tile>

                
                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Monto Autorizado</mat-label>
                        <input matInput type="number" autocomplete="off" formControlName="montoAutorizado">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Monto Solicitado</mat-label>
                        <input matInput type="number" autocomplete="off" formControlName="montoSolicitado">
                    </mat-form-field>
                </mat-grid-tile>


                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Plazo</mat-label>
                        <mat-select formControlName="plazo" [(ngModel)]="listaPlazo" (selectionChange)="onPlazoChange()">
                            <mat-option *ngFor="let tipo of tasaSeleccionada" [value]="tipo">
                            {{tipo.dia}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <button type="button" mat-button color="primary" (click)="calcularMontosNuevo()">Calcular</button>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Total a pagar</mat-label>
                        <input matInput type="number" autocomplete="off" formControlName="totalPagar">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Pago diario</mat-label>
                        <input matInput type="number" autocomplete="off" formControlName="pagoDiario">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <h3>Datos de cliente</h3>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Nombre</mat-label>
                        <input matInput autocomplete="off" formControlName="nombreSolicitante" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Direcci√≥n</mat-label>
                        <input matInput autocomplete="off" formControlName="direccion" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Colonia</mat-label>
                        <input matInput autocomplete="off" formControlName="colonia" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Ciudad</mat-label>
                        <input matInput autocomplete="off" formControlName="ciudad" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Telefono Celular</mat-label>
                        <input type="number" matInput autocomplete="off" formControlName="celular" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Estado Civil</mat-label>
                        <input matInput autocomplete="off" formControlName="estadoCivil" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Tipo Viviendo</mat-label>
                        <input matInput autocomplete="off" formControlName="tipoVivienda" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Tiemp. en vivienda</mat-label>
                        <input matInput autocomplete="off" formControlName="tiempoVivienda" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Pago de renta</mat-label>
                        <input  matInput autocomplete="off" formControlName="pagoRenta" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Tiemp. del negocio</mat-label>
                        <input matInput autocomplete="off" formControlName="tiempoNegocio" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Numero de identificacion</mat-label>
                        <input matInput autocomplete="off" formControlName="numeroINE" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>RFC</mat-label>
                        <input matInput autocomplete="off" formControlName="RFC" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Nombre del conyugue</mat-label>
                        <input matInput autocomplete="off" formControlName="conyugue" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Ingreso del solicitante</mat-label>
                        <input type="number" matInput autocomplete="off" formControlName="ingresoSolicitante" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Motivos</mat-label>
                        <input matInput autocomplete="off" formControlName="motivos">
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile [colspan]="2" [rowspan]="1">
                    <mat-form-field class="ancho">
                        <mat-label>Gestor</mat-label>
                        <input matInput autocomplete="off" formControlName="gestor" readonly="true">
                    </mat-form-field>
                </mat-grid-tile>                    

                <br>
                

                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <button type="button" mat-raised-button color="warn" class="ancho" [disabled]="isLoading" (click)="rechazoDeSolicitud()">Rechazar</button>
                </mat-grid-tile>
                <mat-grid-tile [colspan]="1" [rowspan]="1">
                    <button type="submit" mat-raised-button class="my-custom-button" [disabled]="isLoading">Aprobar</button>
                </mat-grid-tile>
            </mat-grid-list>
        </form>

    </mat-card>
</div>